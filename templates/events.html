<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Etkinlikler | GÃ¶nÃ¼llÃ¼lÃ¼k Platformu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-success">
    <div class="container">
        <a class="navbar-brand" href="/">GÃ¶nÃ¼llÃ¼lÃ¼k Platformu</a>
        <div class="ms-auto">
            <a class="btn btn-light" href="/events/create">â• Etkinlik Ekle</a>
        </div>
    </div>
</nav>

<!-- CONTENT -->
<div class="container mt-5">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>GÃ¶nÃ¼llÃ¼lÃ¼k Etkinlikleri</h2>
        <a href="/events/create" class="btn btn-success">â• Yeni Etkinlik Ekle</a>
    </div>

    <div class="row">
        {% for event in events %}
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">

                    <h5 class="card-title">{{ event.title }}</h5>

                    <p class="card-text">
                        {{ event.description[:100] }}...
                    </p>

                    <p class="mt-auto"><strong>ğŸ“ Konum:</strong> {{ event.location }}</p>

                    
                    <a href="{{ url_for('events_bp.event_detail', event_id=event.id) }}"
                       class="btn btn-success w-100 mt-2">
                        Detaylar
                    </a>

                    
                  <button class="btn btn-outline-success w-100 mt-2"
        onclick="joinEvent('{{ event.id }}')">
    ğŸ¤ GÃ¶nÃ¼llÃ¼ Ol
</button>

<p id="joinMessage-{{ event.id }}"
   class="mt-2 text-success fw-bold"
   style="display:none;">
    KatÄ±lÄ±m isteÄŸiniz alÄ±nmÄ±ÅŸtÄ±r ğŸ’š
</p>


                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- JS -->
<script>
    function joinEvent(eventId) {
        const msg = document.getElementById("joinMessage-" + eventId);
        if (msg) {
            msg.style.display = "block";
        }
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
